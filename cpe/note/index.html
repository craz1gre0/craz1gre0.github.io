<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>演算法筆記 | Craz1gre0's Blog</title><meta name="author" content="craz1gre0"><meta name="copyright" content="craz1gre0"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="C++ 筆記整理1. set 性質：自動排序、元素唯一、不允許重複。 常用操作： insert(x)：插入元素。 count(x)：檢查元素是否存在，存在回傳 1，否則 0。 erase(x)：刪除元素。 find(x)：找到元素的迭代器，找不到回傳 end()。     2. pair 性質：存放兩個值的結構（first、second）。 建立：12pair&lt;int, int&gt; p">
<meta property="og:type" content="website">
<meta property="og:title" content="演算法筆記">
<meta property="og:url" content="https://craz1gre0.com/cpe/note/index.html">
<meta property="og:site_name" content="Craz1gre0&#39;s Blog">
<meta property="og:description" content="C++ 筆記整理1. set 性質：自動排序、元素唯一、不允許重複。 常用操作： insert(x)：插入元素。 count(x)：檢查元素是否存在，存在回傳 1，否則 0。 erase(x)：刪除元素。 find(x)：找到元素的迭代器，找不到回傳 end()。     2. pair 性質：存放兩個值的結構（first、second）。 建立：12pair&lt;int, int&gt; p">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://craz1gre0.com/images/head.jpg">
<meta property="article:published_time" content="2025-10-02T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-08T04:04:11.225Z">
<meta property="article:author" content="craz1gre0">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://craz1gre0.com/images/head.jpg"><link rel="shortcut icon" href="/images/head.jpg"><link rel="canonical" href="https://craz1gre0.com/cpe/note/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const hour = new Date().getHours()
          const isNight = hour <= 6 || hour >= 18
          if (theme === undefined) isNight ? activateDarkMode() : activateLightMode()
          else theme === 'light' ? activateLightMode() : activateDarkMode()
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到符合您查詢的內容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '複製成功',
    error: '複製失敗',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"已切換為繁體中文","cht_to_chs":"已切換為簡體中文","day_to_night":"已切換為深色模式","night_to_day":"已切換為淺色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '載入更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '演算法筆記',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'page'
}</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/images/winterbackground.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i><span> 選項</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 連結</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音樂</span></a></li></ul></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image: url(/images/winterbackground.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Craz1gre0's Blog</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i><span> 選項</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 連結</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音樂</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="page-site-info"><h1 id="site-title">演算法筆記</h1></div></header><main class="layout" id="content-inner"><div id="page"><div class="container" id="article-container"><h1 id="C-筆記整理"><a href="#C-筆記整理" class="headerlink" title="C++ 筆記整理"></a>C++ 筆記整理</h1><h2 id="1-set"><a href="#1-set" class="headerlink" title="1. set"></a>1. <code>set</code></h2><ul>
<li><strong>性質</strong>：自動排序、元素唯一、不允許重複。</li>
<li><strong>常用操作</strong>：<ul>
<li><code>insert(x)</code>：插入元素。</li>
<li><code>count(x)</code>：檢查元素是否存在，存在回傳 <code>1</code>，否則 <code>0</code>。</li>
<li><code>erase(x)</code>：刪除元素。</li>
<li><code>find(x)</code>：找到元素的迭代器，找不到回傳 <code>end()</code>。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2-pair"><a href="#2-pair" class="headerlink" title="2. pair"></a>2. <code>pair</code></h2><ul>
<li><strong>性質</strong>：存放兩個值的結構（<code>first</code>、<code>second</code>）。</li>
<li><strong>建立</strong>：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; p = &#123;<span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">cout &lt;&lt; p.first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.second; <span class="comment">// 3 4</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<ul>
<li>常用在 <code>set&lt;pair&lt;int,int&gt;&gt;</code>、<code>map&lt;int,int&gt;</code> 中。</li>
</ul>
<hr>
<h2 id="3-string-find"><a href="#3-string-find" class="headerlink" title="3. string.find"></a>3. <code>string.find</code></h2><ul>
<li><p>功能：尋找字元或子字串在字串中的位置。</p>
</li>
<li><p>回傳：找到則回傳索引，找不到則回傳 <code>string::npos</code>。</p>
</li>
<li><p>範例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string s = <span class="string">&quot;NESW&quot;</span>;</span><br><span class="line">cout &lt;&lt; s.<span class="built_in">find</span>(<span class="string">&#x27;S&#x27;</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="4-ios-sync-with-stdio-false-cin-tie-nullptr"><a href="#4-ios-sync-with-stdio-false-cin-tie-nullptr" class="headerlink" title="4. ios::sync_with_stdio(false); cin.tie(nullptr);"></a>4. <code>ios::sync_with_stdio(false); cin.tie(nullptr);</code></h2><ul>
<li><strong>目的</strong>：加速 <code>cin/cout</code>。</li>
<li><code>ios::sync_with_stdio(false);</code> → 取消與 <code>scanf/printf</code> 同步，提高速度。</li>
<li><code>cin.tie(nullptr);</code> → 解除 <code>cin</code> 與 <code>cout</code> 的綁定，避免多餘 flush。</li>
<li>注意：不能再與 <code>scanf/printf</code> 混用。</li>
</ul>
<hr>
<h2 id="5-getline-cin-str"><a href="#5-getline-cin-str" class="headerlink" title="5. getline(cin, str);"></a>5. getline(cin, str);</h2><ul>
<li>功能：讀取一整行輸入（包含空格），並存入 <code>str</code> 字串中。  </li>
<li>用法：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string str;</span><br><span class="line"><span class="built_in">getline</span>(cin, str);</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>與 <code>cin &gt;&gt; str;</code> 差異：</p>
<ul>
<li><code>cin &gt;&gt; str;</code> 遇到空白就會結束讀取。</li>
<li><code>getline(cin, str);</code> 會讀取整行直到換行符號。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="6-cin-get-text"><a href="#6-cin-get-text" class="headerlink" title="6. cin.get(text);"></a>6. cin.get(text);</h2><ul>
<li><p>功能：從輸入中讀取一個字元，存入 <code>text</code> 變數中。</p>
</li>
<li><p>用法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> text;</span><br><span class="line">cin.<span class="built_in">get</span>(text);</span><br></pre></td></tr></table></figure></li>
<li><p>也可以用 <code>cin.getline()</code> 讀取字元陣列：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> buffer[<span class="number">100</span>];</span><br><span class="line">cin.<span class="built_in">getline</span>(buffer, <span class="number">100</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="7-str-replace-i-1-“w”"><a href="#7-str-replace-i-1-“w”" class="headerlink" title="7. str.replace(i, 1, “w”);"></a>7. str.replace(i, 1, “w”);</h2><ul>
<li><p>功能：將 <code>str</code> 字串中 <strong>第 i 個位置開始，長度為 1</strong> 的部分，替換成 <code>&quot;w&quot;</code>。</p>
</li>
<li><p>用法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string str = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">str.<span class="built_in">replace</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="string">&quot;w&quot;</span>);  <span class="comment">// H + w + llo → &quot;Hwllo&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>語法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.<span class="built_in">replace</span>(起始位置, 替換長度, 新字串);</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="8-str-length"><a href="#8-str-length" class="headerlink" title="8. str.length();"></a>8. str.length();</h2><ul>
<li><p>功能：回傳字串的長度。</p>
</li>
<li><p>用法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string str = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">cout &lt;&lt; str.<span class="built_in">length</span>();  <span class="comment">// 輸出 5</span></span><br></pre></td></tr></table></figure></li>
<li><p>注意：<code>length()</code> 與 <code>size()</code> 等價。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.<span class="built_in">length</span>() == str.<span class="built_in">size</span>(); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="9-vector-v-—-動態陣列容器"><a href="#9-vector-v-—-動態陣列容器" class="headerlink" title="9. vector&lt;int&gt; v; — 動態陣列容器"></a>9. <code>vector&lt;int&gt; v;</code> — 動態陣列容器</h2><h3 id="📘-基本概念"><a href="#📘-基本概念" class="headerlink" title="📘 基本概念"></a>📘 基本概念</h3><p><code>vector</code> 是 C++ STL（Standard Template Library）中一種<strong>動態陣列容器</strong>。<br>與傳統陣列不同，<code>vector</code> 可以在執行時動態調整大小，方便地進行元素的新增、刪除與存取。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;  <span class="comment">// 宣告一個儲存 int 型別的 vector</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🧩-常見操作"><a href="#🧩-常見操作" class="headerlink" title="🧩 常見操作"></a>🧩 常見操作</h3><table>
<thead>
<tr>
<th>操作</th>
<th>範例</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>新增元素</td>
<td><code>v.push_back(10);</code></td>
<td>在尾端加入元素</td>
</tr>
<tr>
<td>刪除最後元素</td>
<td><code>v.pop_back();</code></td>
<td>移除最後一個元素</td>
</tr>
<tr>
<td>取得元素</td>
<td><code>v[i]</code> 或 <code>v.at(i)</code></td>
<td>取得第 i 個元素</td>
</tr>
<tr>
<td>取得大小</td>
<td><code>v.size()</code></td>
<td>回傳目前元素數量</td>
</tr>
<tr>
<td>清空所有元素</td>
<td><code>v.clear();</code></td>
<td>移除所有元素</td>
</tr>
<tr>
<td>檢查是否為空</td>
<td><code>v.empty()</code></td>
<td>回傳 <code>true</code> 表示為空</td>
</tr>
<tr>
<td>插入元素</td>
<td><code>v.insert(v.begin()+1, 99);</code></td>
<td>在第 2 個位置插入 99</td>
</tr>
<tr>
<td>移除元素</td>
<td><code>v.erase(v.begin()+2);</code></td>
<td>移除第 3 個元素</td>
</tr>
</tbody></table>
<hr>
<h3 id="🔁-走訪元素"><a href="#🔁-走訪元素" class="headerlink" title="🔁 走訪元素"></a>🔁 走訪元素</h3><h4 id="方式1：範圍-for-迴圈-C-11"><a href="#方式1：範圍-for-迴圈-C-11" class="headerlink" title="方式1：範圍 for 迴圈 (C++11)"></a>方式1：範圍 for 迴圈 (C++11)</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> x : v) &#123;</span><br><span class="line">    cout &lt;&lt; x &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="方式2：使用迭代器"><a href="#方式2：使用迭代器" class="headerlink" title="方式2：使用迭代器"></a>方式2：使用迭代器</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">    cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="⚙️-初始化方法"><a href="#⚙️-初始化方法" class="headerlink" title="⚙️ 初始化方法"></a>⚙️ 初始化方法</h3><table>
<thead>
<tr>
<th>寫法</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><code>vector&lt;int&gt; v;</code></td>
<td>空的 vector</td>
</tr>
<tr>
<td><code>vector&lt;int&gt; v(5);</code></td>
<td>建立長度為 5，內容全為 0 的 vector</td>
</tr>
<tr>
<td><code>vector&lt;int&gt; v(5, 10);</code></td>
<td>長度為 5，每個元素都是 10</td>
</tr>
<tr>
<td><code>vector&lt;int&gt; v = &#123;1, 2, 3&#125;;</code></td>
<td>直接初始化內容</td>
</tr>
<tr>
<td><code>vector&lt;int&gt; v2(v);</code></td>
<td>用另一個 vector 建立副本</td>
</tr>
</tbody></table>
<hr>
<h3 id="🧮-常用範例"><a href="#🧮-常用範例" class="headerlink" title="🧮 常用範例"></a>🧮 常用範例</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">4</span>);   <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line">    v.<span class="built_in">pop_back</span>();     <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;大小: &quot;</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> x : v)</span><br><span class="line">        cout &lt;&lt; x &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>輸出結果：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">大小: 3</span><br><span class="line">1 2 3</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="💡-小技巧"><a href="#💡-小技巧" class="headerlink" title="💡 小技巧"></a>💡 小技巧</h3><ul>
<li>使用 <code>v.reserve(n)</code> 可以預先配置容量，減少動態擴充開銷。</li>
<li>搭配 <code>sort(v.begin(), v.end());</code> 可快速排序。</li>
<li><code>vector</code> 儲存的元素在記憶體中是<strong>連續排列的</strong>，可與 C 陣列整合使用（例如 <code>&amp;v[0]</code>）。</li>
</ul>
<hr>
<p>當然可以 👍<br>以下是從 <strong>「## 10」</strong> 開始的 Markdown 筆記，主題是 <code>vector&lt;pair&lt;int,int&gt;&gt; v;</code> 的完整整理👇</p>
<hr>
<h2 id="10-vector-v-—-儲存成對數值的動態容器"><a href="#10-vector-v-—-儲存成對數值的動態容器" class="headerlink" title="10. vector&lt;pair&lt;int,int&gt;&gt; v; — 儲存成對數值的動態容器"></a>10. <code>vector&lt;pair&lt;int,int&gt;&gt; v;</code> — 儲存成對數值的動態容器</h2><h3 id="📘-基本概念-1"><a href="#📘-基本概念-1" class="headerlink" title="📘 基本概念"></a>📘 基本概念</h3><p><code>vector&lt;pair&lt;int,int&gt;&gt;</code> 是一種可以**儲存多組「兩個整數成對資料」**的容器。<br>這常用於：</p>
<ul>
<li>儲存二維座標 <code>(x, y)</code></li>
<li>儲存鍵值組 <code>(key, value)</code></li>
<li>儲存圖的邊 <code>(u, v)</code> 或權重 <code>(距離, 節點)</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span> <span class="comment">// for pair</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; v;  <span class="comment">// 宣告一個存放 pair&lt;int,int&gt; 的 vector</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🧩-常見操作-1"><a href="#🧩-常見操作-1" class="headerlink" title="🧩 常見操作"></a>🧩 常見操作</h3><table>
<thead>
<tr>
<th>操作</th>
<th>範例</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>新增元素</td>
<td><code>v.push_back(&#123;1, 2&#125;);</code></td>
<td>加入一組 pair(1,2)</td>
</tr>
<tr>
<td>新增（make_pair）</td>
<td><code>v.push_back(make_pair(3, 4));</code></td>
<td>用 make_pair 建立</td>
</tr>
<tr>
<td>取出元素</td>
<td><code>v[i].first</code>, <code>v[i].second</code></td>
<td>取出 pair 內兩個值</td>
</tr>
<tr>
<td>取得大小</td>
<td><code>v.size()</code></td>
<td>目前有幾組 pair</td>
</tr>
<tr>
<td>清空</td>
<td><code>v.clear();</code></td>
<td>移除所有元素</td>
</tr>
<tr>
<td>插入元素</td>
<td><code>v.insert(v.begin(), &#123;5, 6&#125;);</code></td>
<td>在開頭插入</td>
</tr>
<tr>
<td>刪除元素</td>
<td><code>v.erase(v.begin()+1);</code></td>
<td>刪除第 2 組 pair</td>
</tr>
</tbody></table>
<hr>
<h3 id="🧮-範例：儲存與印出座標"><a href="#🧮-範例：儲存與印出座標" class="headerlink" title="🧮 範例：儲存與印出座標"></a>🧮 範例：儲存與印出座標</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; v;</span><br><span class="line"></span><br><span class="line">    v.<span class="built_in">push_back</span>(&#123;<span class="number">1</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    v.<span class="built_in">push_back</span>(&#123;<span class="number">3</span>, <span class="number">4</span>&#125;);</span><br><span class="line">    v.<span class="built_in">push_back</span>(&#123;<span class="number">5</span>, <span class="number">6</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> p : v) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; p.first &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; p.second &lt;&lt; <span class="string">&quot;)\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>輸出結果：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1, 2)</span><br><span class="line">(3, 4)</span><br><span class="line">(5, 6)</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🔁-用迭代器走訪"><a href="#🔁-用迭代器走訪" class="headerlink" title="🔁 用迭代器走訪"></a>🔁 用迭代器走訪</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>it-&gt;first</code> 等價於 <code>(*it).first</code></p>
</blockquote>
<hr>
<h3 id="⚙️-初始化方式"><a href="#⚙️-初始化方式" class="headerlink" title="⚙️ 初始化方式"></a>⚙️ 初始化方式</h3><table>
<thead>
<tr>
<th>寫法</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><code>vector&lt;pair&lt;int,int&gt;&gt; v;</code></td>
<td>空的 pair 向量</td>
</tr>
<tr>
<td><code>vector&lt;pair&lt;int,int&gt;&gt; v = &#123;&#123;1,2&#125;, &#123;3,4&#125;, &#123;5,6&#125;&#125;;</code></td>
<td>初始化三組 pair</td>
</tr>
<tr>
<td><code>vector&lt;pair&lt;int,int&gt;&gt; v(n, &#123;0,0&#125;);</code></td>
<td>建立 n 組 (0,0) 的 pair</td>
</tr>
<tr>
<td><code>v.emplace_back(7,8);</code></td>
<td>直接在 vector 中構造一組 pair</td>
</tr>
</tbody></table>
<hr>
<h3 id="🔢-排序應用"><a href="#🔢-排序應用" class="headerlink" title="🔢 排序應用"></a>🔢 排序應用</h3><p><code>pair</code> 的預設排序規則是：</p>
<ol>
<li>先依 <code>first</code> 升冪排序；</li>
<li>若 <code>first</code> 相同，再依 <code>second</code> 升冪排序。</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure>

<p>📘 範例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; v = &#123;&#123;<span class="number">2</span>,<span class="number">3</span>&#125;, &#123;<span class="number">1</span>,<span class="number">5</span>&#125;, &#123;<span class="number">2</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure>

<p><strong>排序結果：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1,5)</span><br><span class="line">(2,1)</span><br><span class="line">(2,3)</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🧠-常見應用場景"><a href="#🧠-常見應用場景" class="headerlink" title="🧠 常見應用場景"></a>🧠 常見應用場景</h3><table>
<thead>
<tr>
<th>場景</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>儲存座標</td>
<td><code>v.push_back(&#123;x, y&#125;);</code></td>
</tr>
<tr>
<td>圖的鄰接表</td>
<td><code>adj[u].push_back(&#123;v, w&#125;);</code> → 表示從 u 到 v 的邊權重為 w</td>
</tr>
<tr>
<td>統計資料</td>
<td>例如 <code>pair&lt;分數, 學號&gt;</code></td>
</tr>
<tr>
<td>排序或優先處理</td>
<td><code>sort(v.begin(), v.end());</code> 可按條件排序</td>
</tr>
</tbody></table>
<hr>
<h3 id="💡-小技巧-1"><a href="#💡-小技巧-1" class="headerlink" title="💡 小技巧"></a>💡 小技巧</h3><ul>
<li>使用 <code>emplace_back(a, b)</code> 效率比 <code>push_back(&#123;a, b&#125;)</code> 略高，因為少了一次臨時物件建立。</li>
<li>若要根據 <code>second</code> 排序，可以使用自訂比較函式：</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="keyword">auto</span> &amp;a, <span class="keyword">auto</span> &amp;b)&#123;</span><br><span class="line">    <span class="keyword">return</span> a.second &lt; b.second;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="11-使用-Lambda-自訂排序規則-—-以-pair-的第二個值降冪排序"><a href="#11-使用-Lambda-自訂排序規則-—-以-pair-的第二個值降冪排序" class="headerlink" title="11. 使用 Lambda 自訂排序規則 — 以 pair 的第二個值降冪排序"></a>11. 使用 Lambda 自訂排序規則 — 以 <code>pair</code> 的第二個值降冪排序</h2><h3 id="📘-基本概念-2"><a href="#📘-基本概念-2" class="headerlink" title="📘 基本概念"></a>📘 基本概念</h3><p>在 C++ 中，<code>sort()</code> 函式（定義於 <code>&lt;algorithm&gt;</code>）可以使用<strong>自訂比較函式（comparator）</strong>，<br>來決定元素的排序方式。</p>
<p>當你有一個像 <code>vector&lt;pair&lt;string,int&gt;&gt;</code> 這樣的容器時，<br>預設排序是依照：</p>
<ol>
<li><code>first</code>（字串）做升冪排序，</li>
<li>若 <code>first</code> 相同，再比 <code>second</code>。</li>
</ol>
<p>但有時候，我們希望根據 <code>second</code>（整數）排序，例如依照分數、次數或數值大小排列。<br>這時可使用 <strong>Lambda 表達式</strong> 自訂比較方式。</p>
<hr>
<h3 id="🧩-基本語法"><a href="#🧩-基本語法" class="headerlink" title="🧩 基本語法"></a>🧩 基本語法</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(out.<span class="built_in">begin</span>(), out.<span class="built_in">end</span>(), [](<span class="type">const</span> pair&lt;string,<span class="type">int</span>&gt; &amp;a, <span class="type">const</span> pair&lt;string,<span class="type">int</span>&gt; &amp;b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.second &gt; b.second;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="🔍-語法解析："><a href="#🔍-語法解析：" class="headerlink" title="🔍 語法解析："></a>🔍 語法解析：</h4><table>
<thead>
<tr>
<th>部分</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><code>out.begin(), out.end()</code></td>
<td>排序範圍（整個 vector）</td>
</tr>
<tr>
<td><code>[]</code></td>
<td>Lambda 捕捉區塊（這裡為空，代表不捕捉外部變數）</td>
</tr>
<tr>
<td><code>(const pair&lt;string,int&gt; &amp;a, const pair&lt;string,int&gt; &amp;b)</code></td>
<td>比較的兩個元素參數</td>
</tr>
<tr>
<td><code>a.second &gt; b.second</code></td>
<td>回傳 <code>true</code> 時，表示 <code>a</code> 應排在 <code>b</code> 前面（即降冪排序）</td>
</tr>
</tbody></table>
<hr>
<h3 id="💡-直觀解釋"><a href="#💡-直觀解釋" class="headerlink" title="💡 直觀解釋"></a>💡 直觀解釋</h3><p>這段程式碼會讓容器 <code>out</code> 的內容依照「第二個值 (<code>second</code>)」<strong>由大到小排列</strong>。<br>例如，若 <code>out</code> 儲存：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; &#123;<span class="string">&quot;Alice&quot;</span>, <span class="number">90</span>&#125;, &#123;<span class="string">&quot;Bob&quot;</span>, <span class="number">75</span>&#125;, &#123;<span class="string">&quot;Charlie&quot;</span>, <span class="number">88</span>&#125; &#125;</span><br></pre></td></tr></table></figure>

<p>排序後會變成：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; &#123;<span class="string">&quot;Alice&quot;</span>, <span class="number">90</span>&#125;, &#123;<span class="string">&quot;Charlie&quot;</span>, <span class="number">88</span>&#125;, &#123;<span class="string">&quot;Bob&quot;</span>, <span class="number">75</span>&#125; &#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🧮-範例程式"><a href="#🧮-範例程式" class="headerlink" title="🧮 範例程式"></a>🧮 範例程式</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    vector&lt;pair&lt;string,<span class="type">int</span>&gt;&gt; out = &#123;</span><br><span class="line">        &#123;<span class="string">&quot;Alice&quot;</span>, <span class="number">90</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;Bob&quot;</span>, <span class="number">75</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;Charlie&quot;</span>, <span class="number">88</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sort</span>(out.<span class="built_in">begin</span>(), out.<span class="built_in">end</span>(), [](<span class="type">const</span> pair&lt;string,<span class="type">int</span>&gt; &amp;a, <span class="type">const</span> pair&lt;string,<span class="type">int</span>&gt; &amp;b) &#123;</span><br><span class="line">        <span class="keyword">return</span> a.second &gt; b.second;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : out) &#123;</span><br><span class="line">        cout &lt;&lt; p.first &lt;&lt; <span class="string">&quot; : &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>輸出結果：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Alice : 90</span><br><span class="line">Charlie : 88</span><br><span class="line">Bob : 75</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="⚙️-Lambda-表達式概念補充"><a href="#⚙️-Lambda-表達式概念補充" class="headerlink" title="⚙️ Lambda 表達式概念補充"></a>⚙️ Lambda 表達式概念補充</h3><p>Lambda 是一種<strong>匿名函式</strong>，用於快速定義臨時邏輯，例如比較規則。</p>
<h4 id="一般函式寫法："><a href="#一般函式寫法：" class="headerlink" title="一般函式寫法："></a>一般函式寫法：</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> pair&lt;string,<span class="type">int</span>&gt; &amp;a, <span class="type">const</span> pair&lt;string,<span class="type">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.second &gt; b.second;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">sort</span>(out.<span class="built_in">begin</span>(), out.<span class="built_in">end</span>(), cmp);</span><br></pre></td></tr></table></figure>

<h4 id="Lambda-寫法（更簡潔）："><a href="#Lambda-寫法（更簡潔）：" class="headerlink" title="Lambda 寫法（更簡潔）："></a>Lambda 寫法（更簡潔）：</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(out.<span class="built_in">begin</span>(), out.<span class="built_in">end</span>(),</span><br><span class="line">     [](<span class="type">const</span> pair&lt;string,<span class="type">int</span>&gt; &amp;a, <span class="type">const</span> pair&lt;string,<span class="type">int</span>&gt; &amp;b)&#123;</span><br><span class="line">         <span class="keyword">return</span> a.second &gt; b.second;</span><br><span class="line">     &#125;);</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🧠-其他排序方式"><a href="#🧠-其他排序方式" class="headerlink" title="🧠 其他排序方式"></a>🧠 其他排序方式</h3><table>
<thead>
<tr>
<th>需求</th>
<th>寫法</th>
</tr>
</thead>
<tbody><tr>
<td>依第二個值升冪排序</td>
<td><code>return a.second &lt; b.second;</code></td>
</tr>
<tr>
<td>依第一個值（字串）降冪</td>
<td><code>return a.first &gt; b.first;</code></td>
</tr>
<tr>
<td>若第二值相同再比第一值</td>
<td><code>return a.second == b.second ? a.first &lt; b.first : a.second &gt; b.second;</code></td>
</tr>
</tbody></table>
<p>📘 範例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(out.<span class="built_in">begin</span>(), out.<span class="built_in">end</span>(), [](<span class="keyword">auto</span> &amp;a, <span class="keyword">auto</span> &amp;b)&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.second == b.second)</span><br><span class="line">        <span class="keyword">return</span> a.first &lt; b.first; <span class="comment">// 分數相同時依姓名升冪</span></span><br><span class="line">    <span class="keyword">return</span> a.second &gt; b.second;   <span class="comment">// 其他依分數降冪</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="💬-小結"><a href="#💬-小結" class="headerlink" title="💬 小結"></a>💬 小結</h3><table>
<thead>
<tr>
<th>重點</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>Lambda 可快速自訂排序規則</td>
<td>避免額外定義函式</td>
</tr>
<tr>
<td><code>return a.second &gt; b.second;</code></td>
<td>代表以第二欄「由大到小」排序</td>
</tr>
<tr>
<td>適用於 <code>vector&lt;pair&lt;...&gt;&gt;</code>、<code>vector&lt;struct&gt;</code></td>
<td>甚至可用於任何可比較的結構</td>
</tr>
<tr>
<td>與 <code>sort()</code> 結合非常常見</td>
<td>尤其在競程或資料統計程式中</td>
</tr>
</tbody></table>
<hr>
<h2 id="12-auto-關鍵字-—-自動型別推導在-for-auto-p-out-的應用"><a href="#12-auto-關鍵字-—-自動型別推導在-for-auto-p-out-的應用" class="headerlink" title="12. auto 關鍵字 — 自動型別推導在 for (auto &amp;p : out) 的應用"></a>12. <code>auto</code> 關鍵字 — 自動型別推導在 <code>for (auto &amp;p : out)</code> 的應用</h2><h3 id="📘-基本概念-3"><a href="#📘-基本概念-3" class="headerlink" title="📘 基本概念"></a>📘 基本概念</h3><p><code>auto</code> 是 C++11 引入的關鍵字，用來讓編譯器<strong>自動推導變數的型別</strong>。<br>當你使用範圍型 <code>for</code> 迴圈（range-based for loop）時，<br><code>auto</code> 特別適合用來處理像 <code>vector&lt;pair&lt;string,int&gt;&gt;</code> 這類型態複雜的容器。</p>
<hr>
<h3 id="🧩-範例說明"><a href="#🧩-範例說明" class="headerlink" title="🧩 範例說明"></a>🧩 範例說明</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : out) &#123; </span><br><span class="line">    cout &lt;&lt; p.first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>若 <code>out</code> 是：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;pair&lt;string,<span class="type">int</span>&gt;&gt; out = &#123;&#123;<span class="string">&quot;Alice&quot;</span>, <span class="number">90</span>&#125;, &#123;<span class="string">&quot;Bob&quot;</span>, <span class="number">75</span>&#125;&#125;;</span><br></pre></td></tr></table></figure>

<p>則 <code>auto &amp;p</code> 的實際型別是：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;string,<span class="type">int</span>&gt; &amp;p;</span><br></pre></td></tr></table></figure>

<p>也就是說：</p>
<ul>
<li><code>p</code> 是 <strong>參考(reference)</strong>，指向 <code>out</code> 裡的每一個 <code>pair</code>。</li>
<li><code>auto</code> 讓編譯器自動判斷 <code>p</code> 的型別（此處為 <code>pair&lt;string,int&gt;</code>）。</li>
</ul>
<hr>
<h3 id="🔍-三種寫法比較"><a href="#🔍-三種寫法比較" class="headerlink" title="🔍 三種寫法比較"></a>🔍 三種寫法比較</h3><table>
<thead>
<tr>
<th>寫法</th>
<th>意義</th>
<th>是否可修改容器內容</th>
</tr>
</thead>
<tbody><tr>
<td><code>for (auto p : out)</code></td>
<td>複製每個元素</td>
<td>❌ 只改變副本</td>
</tr>
<tr>
<td><code>for (auto &amp;p : out)</code></td>
<td>以參考方式存取</td>
<td>✅ 可以修改原容器</td>
</tr>
<tr>
<td><code>for (const auto &amp;p : out)</code></td>
<td>常數參考，唯讀</td>
<td>⚠️ 無法修改元素，但效能佳</td>
</tr>
</tbody></table>
<hr>
<h3 id="🧠-為什麼要用-auto？"><a href="#🧠-為什麼要用-auto？" class="headerlink" title="🧠 為什麼要用 auto？"></a>🧠 為什麼要用 <code>auto</code>？</h3><h4 id="✅-優點："><a href="#✅-優點：" class="headerlink" title="✅ 優點："></a>✅ 優點：</h4><ol>
<li><p><strong>自動型別推導</strong><br>不必手動寫出冗長型別，例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (pair&lt;string,<span class="type">int</span>&gt; &amp;p : out) &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>可以簡化成：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : out) &#123; ... &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>可維持可讀性</strong><br>特別是當容器內的型別很複雜（例如 <code>vector&lt;pair&lt;int, vector&lt;string&gt;&gt;&gt;</code>）。</p>
</li>
<li><p><strong>避免型別錯誤</strong><br>若日後 <code>out</code> 的型別改變，<code>auto</code> 仍會正確推導。</p>
</li>
</ol>
<hr>
<h3 id="🧮-實際範例"><a href="#🧮-實際範例" class="headerlink" title="🧮 實際範例"></a>🧮 實際範例</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    vector&lt;pair&lt;string,<span class="type">int</span>&gt;&gt; out = &#123;</span><br><span class="line">        &#123;<span class="string">&quot;Alice&quot;</span>, <span class="number">90</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;Bob&quot;</span>, <span class="number">75</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;Charlie&quot;</span>, <span class="number">88</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : out) &#123;</span><br><span class="line">        cout &lt;&lt; p.first &lt;&lt; <span class="string">&quot; 的分數是 &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>輸出結果：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Alice 的分數是 90</span><br><span class="line">Bob 的分數是 75</span><br><span class="line">Charlie 的分數是 88</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="⚙️-使用-auto-修改容器元素"><a href="#⚙️-使用-auto-修改容器元素" class="headerlink" title="⚙️ 使用 auto 修改容器元素"></a>⚙️ 使用 <code>auto</code> 修改容器元素</h3><p>由於 <code>auto &amp;p</code> 是參考，可以直接改變原本的元素：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : out) &#123;</span><br><span class="line">    p.second += <span class="number">5</span>; <span class="comment">// 每個人的分數 +5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>若改成 <code>auto p</code>（沒有 <code>&amp;</code>），這樣就只會改變<strong>副本</strong>，不會影響原資料。</p>
<hr>
<h3 id="💬-小結-1"><a href="#💬-小結-1" class="headerlink" title="💬 小結"></a>💬 小結</h3><table>
<thead>
<tr>
<th>關鍵字</th>
<th>意義</th>
<th>常見用途</th>
</tr>
</thead>
<tbody><tr>
<td><code>auto</code></td>
<td>編譯器自動推導型別</td>
<td>範圍 for 迴圈、iterator 宣告</td>
</tr>
<tr>
<td><code>auto &amp;</code></td>
<td>引用，修改原物件</td>
<td>修改容器內元素</td>
</tr>
<tr>
<td><code>const auto &amp;</code></td>
<td>唯讀引用，節省記憶體</td>
<td>讀取大量資料但不修改時使用</td>
</tr>
</tbody></table>
<hr>
<h3 id="🌟-延伸應用：auto-與迭代器"><a href="#🌟-延伸應用：auto-與迭代器" class="headerlink" title="🌟 延伸應用：auto 與迭代器"></a>🌟 延伸應用：<code>auto</code> 與迭代器</h3><p><code>auto</code> 也常搭配 iterator 使用，例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = out.<span class="built_in">begin</span>(); it != out.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這裡 <code>auto</code> 自動推導出：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;pair&lt;string,<span class="type">int</span>&gt;&gt;::iterator it;</span><br></pre></td></tr></table></figure>

<p>讓程式更簡潔。</p>
<hr>
<h2 id="13-cin-ignore-—-清除輸入緩衝區的工具"><a href="#13-cin-ignore-—-清除輸入緩衝區的工具" class="headerlink" title="13. cin.ignore(); — 清除輸入緩衝區的工具"></a>13. <code>cin.ignore();</code> — 清除輸入緩衝區的工具</h2><h3 id="📘-基本概念-4"><a href="#📘-基本概念-4" class="headerlink" title="📘 基本概念"></a>📘 基本概念</h3><p><code>cin.ignore()</code> 是 C++ 中用來<strong>忽略（丟棄）輸入緩衝區中的字元</strong>的函式。<br>它主要用在「<strong>混合使用 <code>cin</code> 和 <code>getline()</code></strong>」或「<strong>清除多餘輸入</strong>」的情況。</p>
<h3 id="🧩-為什麼需要-cin-ignore-？"><a href="#🧩-為什麼需要-cin-ignore-？" class="headerlink" title="🧩 為什麼需要 cin.ignore()？"></a>🧩 為什麼需要 <code>cin.ignore()</code>？</h3><p><code>cin &gt;&gt;</code>（例如 <code>cin &gt;&gt; num;</code>）在讀取輸入時，<strong>不會清掉換行符號 <code>&#39;\n&#39;</code></strong>。<br>當你接著使用 <code>getline()</code> 時，<code>getline()</code> 會讀到那個殘留的 <code>&#39;\n&#39;</code>，導致直接結束輸入。</p>
<h4 id="範例（沒有使用-cin-ignore-）："><a href="#範例（沒有使用-cin-ignore-）：" class="headerlink" title="範例（沒有使用 cin.ignore()）："></a>範例（沒有使用 <code>cin.ignore()</code>）：</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> age;</span><br><span class="line">string name;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;請輸入年齡: &quot;</span>;</span><br><span class="line">cin &gt;&gt; age;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;請輸入姓名: &quot;</span>;</span><br><span class="line"><span class="built_in">getline</span>(cin, name); <span class="comment">// &lt;- 直接被上一個輸入留下的 &#x27;\n&#x27; 吃掉！</span></span><br></pre></td></tr></table></figure>

<p>💥 結果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">請輸入年齡: 20</span><br><span class="line">請輸入姓名:</span><br></pre></td></tr></table></figure>

<p>（<code>getline</code> 直接結束，沒有機會輸入）</p>
<hr>
<h3 id="✅-解法：加上-cin-ignore"><a href="#✅-解法：加上-cin-ignore" class="headerlink" title="✅ 解法：加上 cin.ignore()"></a>✅ 解法：加上 <code>cin.ignore()</code></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> age;</span><br><span class="line">string name;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;請輸入年齡: &quot;</span>;</span><br><span class="line">cin &gt;&gt; age;</span><br><span class="line"></span><br><span class="line">cin.<span class="built_in">ignore</span>();  <span class="comment">// 忽略上一個輸入留下的 &#x27;\n&#x27;</span></span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;請輸入姓名: &quot;</span>;</span><br><span class="line"><span class="built_in">getline</span>(cin, name);</span><br></pre></td></tr></table></figure>

<p>📘 結果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">請輸入年齡: 20</span><br><span class="line">請輸入姓名: 小綠</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="⚙️-cin-ignore-的參數用法"><a href="#⚙️-cin-ignore-的參數用法" class="headerlink" title="⚙️ cin.ignore() 的參數用法"></a>⚙️ <code>cin.ignore()</code> 的參數用法</h3><p>語法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cin.<span class="built_in">ignore</span>(n, c);</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>參數</th>
<th>預設值</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><code>n</code></td>
<td><code>1</code></td>
<td>忽略的最大字元數</td>
</tr>
<tr>
<td><code>c</code></td>
<td><code>EOF</code></td>
<td>停止忽略的條件字元（預設無）</td>
</tr>
</tbody></table>
<hr>
<h3 id="🧠-延伸：numeric-limits-max"><a href="#🧠-延伸：numeric-limits-max" class="headerlink" title="🧠 延伸：numeric_limits&lt;streamsize&gt;::max()"></a>🧠 延伸：<code>numeric_limits&lt;streamsize&gt;::max()</code></h3><p>這是一個非常常見的技巧：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cin.<span class="built_in">ignore</span>(numeric_limits&lt;streamsize&gt;::<span class="built_in">max</span>(), <span class="string">&#x27;\n&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>📘 作用：</p>
<ul>
<li>忽略「幾乎整個輸入緩衝區」直到換行符號。</li>
<li>常用在讀整數後要接 <code>getline()</code> 或重置輸入狀態時。</li>
</ul>
<blockquote>
<p>要使用這寫法必須 <code>#include &lt;limits&gt;</code></p>
</blockquote>
<hr>
<h3 id="💬-小結-2"><a href="#💬-小結-2" class="headerlink" title="💬 小結"></a>💬 小結</h3><table>
<thead>
<tr>
<th>用法</th>
<th>功能</th>
<th>備註</th>
</tr>
</thead>
<tbody><tr>
<td><code>cin.ignore();</code></td>
<td>忽略下一個字元（通常是 <code>\n</code>）</td>
<td>適合小規模清除</td>
</tr>
<tr>
<td><code>cin.ignore(1000, &#39;\n&#39;);</code></td>
<td>忽略最多 1000 個字元直到換行</td>
<td>常見安全用法</td>
</tr>
<tr>
<td><code>cin.ignore(numeric_limits&lt;streamsize&gt;::max(), &#39;\n&#39;);</code></td>
<td>忽略整行輸入直到換行</td>
<td>最穩定與通用的方式</td>
</tr>
<tr>
<td>搭配 <code>getline()</code> 使用</td>
<td>避免被前一個輸入的 <code>\n</code> 吃掉</td>
<td>✅ 推薦使用</td>
</tr>
</tbody></table>
<hr>
<h2 id="14-map"><a href="#14-map" class="headerlink" title="14 map"></a>14 map</h2><h3 id="14-1-基本介紹"><a href="#14-1-基本介紹" class="headerlink" title="14.1 基本介紹"></a>14.1 基本介紹</h3><ul>
<li><code>map</code> 是 C++ STL 提供的關聯式容器 (associative container)。</li>
<li>採用 <strong>紅黑樹 (balanced BST)</strong> 實作，因此：<ul>
<li>元素會自動依照 <strong>key 排序</strong>。</li>
<li>插入、刪除、查找的平均時間複雜度為 <strong>O(log n)</strong>。</li>
</ul>
</li>
<li>每個元素是 <strong>(key, value) 配對</strong>。</li>
<li><code>key</code> 不可重複，若需要允許重複鍵，則使用 <code>multimap</code>。</li>
</ul>
<hr>
<h3 id="14-2-宣告方式"><a href="#14-2-宣告方式" class="headerlink" title="14.2 宣告方式"></a>14.2 宣告方式</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    map&lt;<span class="type">int</span>, string&gt; m;   <span class="comment">// key: int, value: string</span></span><br><span class="line">    map&lt;string, <span class="type">int</span>&gt; cnt; <span class="comment">// key: string, value: int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>⸻</p>
<p>14.3 插入與存取</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, string&gt; m;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入資料</span></span><br><span class="line">m[<span class="number">1</span>] = <span class="string">&quot;Apple&quot;</span>;</span><br><span class="line">m[<span class="number">2</span>] = <span class="string">&quot;Banana&quot;</span>;</span><br><span class="line">m.<span class="built_in">insert</span>(&#123;<span class="number">3</span>, <span class="string">&quot;Cherry&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 存取資料</span></span><br><span class="line">cout &lt;&lt; m[<span class="number">1</span>] &lt;&lt; endl;  <span class="comment">// Apple</span></span><br><span class="line">cout &lt;&lt; m.<span class="built_in">at</span>(<span class="number">2</span>) &lt;&lt; endl;  <span class="comment">// Banana</span></span><br></pre></td></tr></table></figure>
<p>⚠️ 使用 m[key] 若 key 不存在，會自動建立一個 預設值。<br>若不想自動建立，請使用 m.at(key)。</p>
<p>⸻</p>
<p>14.4 常用函式</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 檢查 key 是否存在</span></span><br><span class="line"><span class="keyword">if</span> (m.<span class="built_in">find</span>(<span class="number">3</span>) != m.<span class="built_in">end</span>()) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Key 3 exists.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 刪除元素</span></span><br><span class="line">m.<span class="built_in">erase</span>(<span class="number">2</span>); <span class="comment">// 刪除 key=2 的元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 大小與清空</span></span><br><span class="line">cout &lt;&lt; m.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">m.<span class="built_in">clear</span>();</span><br></pre></td></tr></table></figure>

<p>⸻</p>
<p>14.5 走訪元素</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, string&gt; m = &#123;</span><br><span class="line">    &#123;<span class="number">1</span>, <span class="string">&quot;Apple&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">2</span>, <span class="string">&quot;Banana&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">3</span>, <span class="string">&quot;Cherry&quot;</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 iterator</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; : &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 range-based for</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : m) &#123;</span><br><span class="line">    cout &lt;&lt; p.first &lt;&lt; <span class="string">&quot; =&gt; &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>輸出：</p>
<p>1 : Apple<br>2 : Banana<br>3 : Cherry</p>
<p>⸻</p>
<p>14.6 範例應用：字數統計</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    map&lt;string, <span class="type">int</span>&gt; wordCount;</span><br><span class="line">    string words[] = &#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;cherry&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;apple&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (string w : words) &#123;</span><br><span class="line">        wordCount[w]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : wordCount) &#123;</span><br><span class="line">        cout &lt;&lt; p.first &lt;&lt; <span class="string">&quot; : &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>輸出：</p>
<p>apple : 3<br>banana : 2<br>cherry : 1</p>
<p>⸻</p>
<p>14.7 總結<br>    •    map 是 自動排序 並以 key-value 儲存的容器。<br>    •    插入&#x2F;刪除&#x2F;查找為 O(log n)。<br>    •    若需要保持插入順序或更快的存取，可使用 unordered_map (雜湊表)。</p>
<p>⸻</p>
<h2 id="15-unordered-map"><a href="#15-unordered-map" class="headerlink" title="15 unordered_map"></a>15 unordered_map</h2><h3 id="15-1-基本介紹"><a href="#15-1-基本介紹" class="headerlink" title="15.1 基本介紹"></a>15.1 基本介紹</h3><ul>
<li><code>unordered_map</code> 是一種 <strong>關聯式容器</strong>，跟 <code>map</code> 類似，但底層使用 <strong>雜湊表 (hash table)</strong>。</li>
<li>特點：<ul>
<li>元素存取平均時間複雜度為 <strong>O(1)</strong>。</li>
<li>不會自動排序（元素順序不固定）。</li>
<li><code>key</code> 不可重複。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="15-2-宣告方式"><a href="#15-2-宣告方式" class="headerlink" title="15.2 宣告方式"></a>15.2 宣告方式</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    unordered_map&lt;<span class="type">int</span>, string&gt; um;   <span class="comment">// key: int, value: string</span></span><br><span class="line">    unordered_map&lt;string, <span class="type">int</span>&gt; cnt; <span class="comment">// key: string, value: int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>⸻</p>
<p>15.3 插入與存取</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">unordered_map&lt;<span class="type">int</span>, string&gt; um;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入資料</span></span><br><span class="line">um[<span class="number">1</span>] = <span class="string">&quot;Dog&quot;</span>;</span><br><span class="line">um[<span class="number">2</span>] = <span class="string">&quot;Cat&quot;</span>;</span><br><span class="line">um.<span class="built_in">insert</span>(&#123;<span class="number">3</span>, <span class="string">&quot;Bird&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 存取資料</span></span><br><span class="line">cout &lt;&lt; um[<span class="number">1</span>] &lt;&lt; endl;      <span class="comment">// Dog</span></span><br><span class="line">cout &lt;&lt; um.<span class="built_in">at</span>(<span class="number">2</span>) &lt;&lt; endl;   <span class="comment">// Cat</span></span><br></pre></td></tr></table></figure>
<p>⚠️ 與 map 相同，um[key] 若 key 不存在，會建立一個預設值。<br>使用 at(key) 則會在 key 不存在時丟出 out_of_range 錯誤。</p>
<p>⸻</p>
<p>15.4 常用函式</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 檢查 key 是否存在</span></span><br><span class="line"><span class="keyword">if</span> (um.<span class="built_in">find</span>(<span class="number">3</span>) != um.<span class="built_in">end</span>()) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Key 3 exists.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 刪除元素</span></span><br><span class="line">um.<span class="built_in">erase</span>(<span class="number">2</span>); <span class="comment">// 刪除 key=2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 大小與清空</span></span><br><span class="line">cout &lt;&lt; um.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">um.<span class="built_in">clear</span>();</span><br></pre></td></tr></table></figure>

<p>⸻</p>
<p>15.5 走訪元素</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">unordered_map&lt;<span class="type">int</span>, string&gt; um = &#123;</span><br><span class="line">    &#123;<span class="number">1</span>, <span class="string">&quot;Dog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">2</span>, <span class="string">&quot;Cat&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">3</span>, <span class="string">&quot;Bird&quot;</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 iterator</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = um.<span class="built_in">begin</span>(); it != um.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; : &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 range-based for</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : um) &#123;</span><br><span class="line">    cout &lt;&lt; p.first &lt;&lt; <span class="string">&quot; =&gt; &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>輸出順序 不固定，可能是：</p>
<p>2 : Cat<br>1 : Dog<br>3 : Bird</p>
<p>⸻</p>
<p>15.6 範例應用：字頻統計 (更快)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    unordered_map&lt;string, <span class="type">int</span>&gt; wordCount;</span><br><span class="line">    string words[] = &#123;<span class="string">&quot;dog&quot;</span>, <span class="string">&quot;cat&quot;</span>, <span class="string">&quot;dog&quot;</span>, <span class="string">&quot;bird&quot;</span>, <span class="string">&quot;cat&quot;</span>, <span class="string">&quot;dog&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (string w : words) &#123;</span><br><span class="line">        wordCount[w]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;p : wordCount) &#123;</span><br><span class="line">        cout &lt;&lt; p.first &lt;&lt; <span class="string">&quot; : &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可能輸出：</p>
<p>dog : 3<br>cat : 2<br>bird : 1</p>
<p>⸻</p>
<p>15.7 總結<br>    •    unordered_map 與 map 的比較：</p>
<p>特性    map    unordered_map<br>底層結構    紅黑樹 (排序)    哈希表 (無序)<br>存取效率    O(log n)    平均 O(1)，最差 O(n)<br>是否排序    ✅ 自動排序    ❌ 無序<br>適合場景    需要排序的情況    需要快速查找的情況</p>
<p>⸻</p>
<h2 id="16-tolower-與-toupper"><a href="#16-tolower-與-toupper" class="headerlink" title="16 tolower() 與 toupper()"></a>16 tolower() 與 toupper()</h2><h3 id="16-1-函式來源"><a href="#16-1-函式來源" class="headerlink" title="16.1 函式來源"></a>16.1 函式來源</h3><ul>
<li>這兩個函式定義在 <strong><code>&lt;cctype&gt;</code></strong> 標頭檔中。  </li>
<li>用來轉換字元的大小寫。</li>
</ul>
<h3 id="16-2-基本用法"><a href="#16-2-基本用法" class="headerlink" title="16.2 基本用法"></a>16.2 基本用法</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">char</span> c1 = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">    <span class="type">char</span> c2 = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;tolower(&#x27;A&#x27;): &quot;</span> &lt;&lt; (<span class="type">char</span>)<span class="built_in">tolower</span>(c1) &lt;&lt; endl; <span class="comment">// a</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;toupper(&#x27;z&#x27;): &quot;</span> &lt;&lt; (<span class="type">char</span>)<span class="built_in">toupper</span>(c2) &lt;&lt; endl; <span class="comment">// Z</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>16.3 注意事項<br>    1.    傳入參數型態<br>    •    接受 int 型別（實際上會轉換為 unsigned char 處理）。<br>    •    輸入非字母字元時，會 原樣輸出。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; (<span class="type">char</span>)<span class="built_in">tolower</span>(<span class="string">&#x27;!&#x27;</span>) &lt;&lt; endl; <span class="comment">// 輸出仍為 &#x27;!&#x27;</span></span><br></pre></td></tr></table></figure>

<pre><code>2.    避免直接對 string 使用
•    tolower() 與 toupper() 是針對單一字元的函式。
•    如果要處理整個字串，必須搭配迴圈或演算法。
</code></pre>
<p>16.4 轉換整個字串範例</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    string s = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 全部轉小寫</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> &amp;c : s) &#123;</span><br><span class="line">        c = <span class="built_in">tolower</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;小寫: &quot;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 全部轉大寫</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> &amp;c : s) &#123;</span><br><span class="line">        c = <span class="built_in">toupper</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;大寫: &quot;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>16.5 與 transform 搭配</p>
<p>C++ STL 提供了 transform() 可以更簡潔地轉換字串：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    string s = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">transform</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), s.<span class="built_in">begin</span>(), ::tolower);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;小寫: &quot;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">transform</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), s.<span class="built_in">begin</span>(), ::toupper);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;大寫: &quot;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>16.6 小結<br>    •    tolower()：字元轉小寫<br>    •    toupper()：字元轉大寫<br>    •    非字母字元不受影響<br>    •    若要處理整個字串，需搭配迴圈或 transform()</p>
<hr>
<h2 id="17-bitset-bit-num-—-位元集合（bitset）的使用與進制轉換"><a href="#17-bitset-bit-num-—-位元集合（bitset）的使用與進制轉換" class="headerlink" title="17. bitset&lt;32&gt; bit(num); — 位元集合（bitset）的使用與進制轉換"></a>17. <code>bitset&lt;32&gt; bit(num);</code> — 位元集合（bitset）的使用與進制轉換</h2><h3 id="📘-基本概念-5"><a href="#📘-基本概念-5" class="headerlink" title="📘 基本概念"></a>📘 基本概念</h3><p><code>bitset</code> 是 C++ 中用來<strong>處理二進位資料</strong>的容器（在 <code>&lt;bitset&gt;</code> 標頭中）。<br>它能讓你輕鬆地表示、操作與輸出二進位形式的資料。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">bitset&lt;32&gt; <span class="title">bit</span><span class="params">(num)</span></span>;</span><br></pre></td></tr></table></figure>

<p>這行會建立一個 <strong>32 位元的二進位集合</strong>，並根據整數 <code>num</code> 的值來設定每一位元（bit）。</p>
<hr>
<h3 id="🧩-語法結構"><a href="#🧩-語法結構" class="headerlink" title="🧩 語法結構"></a>🧩 語法結構</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">bitset&lt;N&gt; <span class="title">bit</span><span class="params">(值)</span></span>;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>參數</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><code>N</code></td>
<td>位元數（如 8、16、32、64）</td>
</tr>
<tr>
<td><code>值</code></td>
<td>初始化值，可以是整數或字串</td>
</tr>
</tbody></table>
<p>例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">bitset&lt;8&gt; <span class="title">b</span><span class="params">(<span class="number">13</span>)</span></span>;      <span class="comment">// 用整數初始化（13 的二進位是 00001101）</span></span><br><span class="line"><span class="function">bitset&lt;8&gt; <span class="title">b</span><span class="params">(<span class="string">&quot;1101&quot;</span>)</span></span>;  <span class="comment">// 用字串初始化（二進位字串）</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🧮-範例一：整數轉二進位"><a href="#🧮-範例一：整數轉二進位" class="headerlink" title="🧮 範例一：整數轉二進位"></a>🧮 範例一：整數轉二進位</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> num = <span class="number">13</span>;</span><br><span class="line">    <span class="function">bitset&lt;8&gt; <span class="title">bit</span><span class="params">(num)</span></span>;  <span class="comment">// 8 位元表示 13</span></span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;十進位：&quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;二進位：&quot;</span> &lt;&lt; bit &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>輸出結果：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">十進位：13</span><br><span class="line">二進位：00001101</span><br></pre></td></tr></table></figure>

<blockquote>
<p>📘 預設從 <strong>右邊開始表示最低位元 (LSB)</strong>，左邊是高位 (MSB)。</p>
</blockquote>
<hr>
<h3 id="🧩-範例二：字串轉-bitset"><a href="#🧩-範例二：字串轉-bitset" class="headerlink" title="🧩 範例二：字串轉 bitset"></a>🧩 範例二：字串轉 bitset</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">bitset&lt;8&gt; <span class="title">bit</span><span class="params">(<span class="string">&quot;1101&quot;</span>)</span></span>;</span><br><span class="line">cout &lt;&lt; bit.<span class="built_in">to_ulong</span>();  <span class="comment">// 轉回整數：13</span></span><br></pre></td></tr></table></figure>

<p>💡 注意：</p>
<ul>
<li>字串 <code>&quot;1101&quot;</code> 表示 <strong>最左邊是最高位元</strong>。</li>
<li><code>to_ulong()</code> 可將 bitset 轉成 <code>unsigned long</code>。</li>
</ul>
<hr>
<h3 id="⚙️-常用成員函式"><a href="#⚙️-常用成員函式" class="headerlink" title="⚙️ 常用成員函式"></a>⚙️ 常用成員函式</h3><table>
<thead>
<tr>
<th>函式</th>
<th>功能</th>
<th>範例</th>
</tr>
</thead>
<tbody><tr>
<td><code>.set()</code></td>
<td>將所有位元設為 1</td>
<td><code>bit.set();</code> → 全部變 1</td>
</tr>
<tr>
<td><code>.reset()</code></td>
<td>將所有位元設為 0</td>
<td><code>bit.reset();</code></td>
</tr>
<tr>
<td><code>.flip()</code></td>
<td>翻轉所有位元</td>
<td><code>bit.flip();</code></td>
</tr>
<tr>
<td><code>.count()</code></td>
<td>回傳 1 的個數</td>
<td><code>bit.count();</code></td>
</tr>
<tr>
<td><code>.test(i)</code></td>
<td>檢查第 i 位是否為 1</td>
<td><code>bit.test(3)</code></td>
</tr>
<tr>
<td><code>.any()</code></td>
<td>是否有任何 1</td>
<td><code>bit.any()</code></td>
</tr>
<tr>
<td><code>.none()</code></td>
<td>是否全為 0</td>
<td><code>bit.none()</code></td>
</tr>
<tr>
<td><code>.to_ulong()</code></td>
<td>轉為 <code>unsigned long</code></td>
<td><code>bit.to_ulong()</code></td>
</tr>
<tr>
<td><code>.to_string()</code></td>
<td>轉為字串</td>
<td><code>bit.to_string()</code></td>
</tr>
</tbody></table>
<hr>
<h3 id="🧠-範例三：基本操作"><a href="#🧠-範例三：基本操作" class="headerlink" title="🧠 範例三：基本操作"></a>🧠 範例三：基本操作</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">bitset&lt;8&gt; <span class="title">bit</span><span class="params">(<span class="number">5</span>)</span></span>;  <span class="comment">// 00000101</span></span><br><span class="line"></span><br><span class="line">    bit.<span class="built_in">set</span>(<span class="number">2</span>);        <span class="comment">// 設第2位為1 -&gt; 00000101 (本來就1)</span></span><br><span class="line">    bit.<span class="built_in">flip</span>(<span class="number">0</span>);       <span class="comment">// 翻轉第0位 -&gt; 00000100</span></span><br><span class="line">    bit.<span class="built_in">reset</span>(<span class="number">2</span>);      <span class="comment">// 將第2位設為0 -&gt; 00000000</span></span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;結果：&quot;</span> &lt;&lt; bit &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>輸出：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">結果：00000000</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🧩-範例四：與位元運算結合"><a href="#🧩-範例四：與位元運算結合" class="headerlink" title="🧩 範例四：與位元運算結合"></a>🧩 範例四：與位元運算結合</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">bitset&lt;8&gt; <span class="title">a</span><span class="params">(<span class="string">&quot;10101010&quot;</span>)</span></span>;</span><br><span class="line"><span class="function">bitset&lt;8&gt; <span class="title">b</span><span class="params">(<span class="string">&quot;11001100&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; (a &amp; b) &lt;&lt; endl;  <span class="comment">// AND</span></span><br><span class="line">cout &lt;&lt; (a | b) &lt;&lt; endl;  <span class="comment">// OR</span></span><br><span class="line">cout &lt;&lt; (a ^ b) &lt;&lt; endl;  <span class="comment">// XOR</span></span><br></pre></td></tr></table></figure>

<p><strong>輸出：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">10001000</span><br><span class="line">11101110</span><br><span class="line">01100110</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="🧠-常見用途"><a href="#🧠-常見用途" class="headerlink" title="🧠 常見用途"></a>🧠 常見用途</h3><table>
<thead>
<tr>
<th>用途</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>二進位顯示</td>
<td>將整數快速轉為二進位格式輸出</td>
</tr>
<tr>
<td>狀態儲存</td>
<td>使用位元代表多個布林狀態（如開關、條件）</td>
</tr>
<tr>
<td>位元運算</td>
<td>高效執行邏輯運算（AND &#x2F; OR &#x2F; XOR）</td>
</tr>
<tr>
<td>演算法應用</td>
<td>常見於位元 DP、集合子集處理、mask 編碼</td>
</tr>
</tbody></table>
<hr>
<h3 id="⚠️-注意事項"><a href="#⚠️-注意事項" class="headerlink" title="⚠️ 注意事項"></a>⚠️ 注意事項</h3><ul>
<li>若用 <code>bitset&lt;32&gt; bit(num);</code><br>則最大可表示 <code>2³²-1</code>（超過會被截斷）。</li>
<li>若用字串初始化，<strong>長度必須 ≤ N</strong>，多的部分會被截掉。</li>
<li><code>bitset</code> 大小固定，無法動態改變（不像 <code>vector&lt;bool&gt;</code>）。</li>
</ul>
<hr>
<h3 id="💬-小結-3"><a href="#💬-小結-3" class="headerlink" title="💬 小結"></a>💬 小結</h3><table>
<thead>
<tr>
<th>重點</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><code>bitset&lt;N&gt;</code> 是固定長度的二進位容器</td>
<td>常用於進制轉換與位元運算</td>
</tr>
<tr>
<td><code>bitset&lt;32&gt; bit(num);</code></td>
<td>將整數 <code>num</code> 轉為 32 位元的二進位表示</td>
</tr>
<tr>
<td><code>.to_string()</code> &#x2F; <code>.to_ulong()</code></td>
<td>可互相轉換字串與整數</td>
</tr>
<tr>
<td><code>.set()</code>、<code>.reset()</code>、<code>.flip()</code></td>
<td>控制位元狀態</td>
</tr>
<tr>
<td><code>.count()</code>、<code>.test()</code></td>
<td>用於檢查或統計位元</td>
</tr>
</tbody></table>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">## 18. 關於 `stoi(str);`</span><br><span class="line"></span><br><span class="line">### 🧩 基本介紹  </span><br><span class="line">`stoi()` 是 C++ 中將 **字串（string）轉換成整數（int）** 的函式，定義於 `&lt;string&gt;` 標頭檔中。  </span><br><span class="line">名稱來自 **string to integer**。  </span><br><span class="line"></span><br><span class="line">### ⚠️ 注意事項</span><br><span class="line"></span><br><span class="line">1. **字串必須是可轉換為整數的格式**</span><br><span class="line"></span><br><span class="line">   * ✅ `&quot;123&quot;` 可行</span><br><span class="line">   * ❌ `&quot;12a3&quot;`、`&quot;abc&quot;` 會丟出例外（`std::invalid_argument`）</span><br><span class="line">2. **可能溢出**</span><br><span class="line"></span><br><span class="line">   * 若數值太大或太小超過 `int` 範圍，會拋出 `std::out_of_range`。</span><br><span class="line">3. **可以指定起始位置與進位基底**</span><br><span class="line"></span><br><span class="line">   ```cpp</span><br><span class="line">   int num = stoi(&quot;1010&quot;, nullptr, 2);  // 以二進位轉換 -&gt; 10</span><br></pre></td></tr></table></figure>

<h3 id="🧮-延伸版本"><a href="#🧮-延伸版本" class="headerlink" title="🧮 延伸版本"></a>🧮 延伸版本</h3><table>
<thead>
<tr>
<th>函式</th>
<th>功能</th>
<th>回傳型別</th>
</tr>
</thead>
<tbody><tr>
<td><code>stoi()</code></td>
<td>string → int</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>stol()</code></td>
<td>string → long</td>
<td><code>long</code></td>
</tr>
<tr>
<td><code>stoll()</code></td>
<td>string → long long</td>
<td><code>long long</code></td>
</tr>
<tr>
<td><code>stof()</code></td>
<td>string → float</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>stod()</code></td>
<td>string → double</td>
<td><code>double</code></td>
</tr>
</tbody></table>
<h3 id="✅-總結"><a href="#✅-總結" class="headerlink" title="✅ 總結"></a>✅ 總結</h3><ul>
<li><code>stoi(str)</code> 用來將字串轉為整數。</li>
<li>若字串不是合法數字或超出範圍，會丟出例外。</li>
<li>可選用第三個參數指定進位（例如 2、8、16）。</li>
</ul>
<hr>
<h2 id="18-字元轉整數"><a href="#18-字元轉整數" class="headerlink" title="18 字元轉整數"></a>18 字元轉整數</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num = <span class="type">char</span>[i]-<span class="string">&quot;0&quot;</span>;</span><br></pre></td></tr></table></figure>
</div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">craz1gre0</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">0</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/craz1gre0" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://www.youtube.com/@Craz1gre0" target="_blank" title="Youtube"><i class="fab fa-youtube" style="color: #24292e;"></i></a><a class="social-icon" href="https://www.twitch.tv/craz1gre0" target="_blank" title="Twitch"><i class="fab fa-twitch" style="color: #24292e;"></i></a><a class="social-icon" href="https://payment.ecpay.com.tw/Broadcaster/Donate/8574CEB845C0341B2C74EDA703038779" target="_blank" title="ecpay"><i class="fab fa-dollar-sign" style="color: #24292e;"></i></a><a class="social-icon" href="https://open.spotify.com/playlist/6i65cQ8eWXF0mniUGmLBNL?si=4bed1d4702ae4962" target="_blank" title="spotify"><i class="fab fa-spotify" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">我好懶喔~</div></div><div class="sticky_layout"><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>網站資訊</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章數量 :</div><div class="item-count">1</div></div><div class="webinfo-item"><div class="item-name">總字數 :</div><div class="item-count">14</div></div><div class="webinfo-item"><div class="item-name">訪客數 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">總瀏覽量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最後更新時間 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-10-08T04:06:52.642Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2025 By craz1gre0</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="日夜模式切換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到頂端"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  資料載入中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '1ms');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '1ms');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --></body></html>