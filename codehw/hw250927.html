<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HW250927</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans CJK TC", "Helvetica Neue", Arial; padding: 24px; background:#f6f8fb; color:#0b1220; }
    .card { background: #fff; border-radius: 10px; box-shadow: 0 6px 18px rgba(15,20,30,0.08); padding: 18px; max-width: 900px; margin: 0 auto; }
    pre { background:#0f1724; color:#e6eef8; padding:16px; border-radius:6px; overflow:auto; white-space:pre-wrap; }
    .btn { display:inline-block; margin:8px 6px 0 0; padding:8px 12px; border-radius:6px; border:none; cursor:pointer; font-weight:600; }
    .btn-copy { background:#2563eb; color:#fff; }
    .btn-download { background:#10b981; color:#fff; }
    .note { margin-top:10px; color:#334155; font-size:14px; }
  </style>
</head>
<body>
  <div class="card">
    <h2>HW250927</h2>
    <pre id="codeBlock">
di = {
  'Alice': 72,
  'Bob': 89,
  'Charlie': 65,
  'Diana': 94,
  'Ethan': 58,
  'Fiona': 100,
  'George': 47,
  'Hannah': 76,
  'Ivan': 63,
  'Jenny': 85
}


total = 0
pa = []
out = []

for n, s in di.items():
    total += s
    if s >= 60:
        pa.append(n)
    else:
        out.append(n)
      
avg = sum(di.values()) / len(di)
palu = round(len(pa) / len(di) * 100, 1)

print(f'總平均為: {avg}')
print(f'及格({len(pa)}人): {", ".join(pa)}')
print(f'不及格({len(out)}人): {", ".join(out)}')
print(f'及格率: {palu}%')
print("通過" if palu > 50 else "不通過")
    </pre>

    <div>
      <button class="btn btn-copy" id="copyBtn">複製程式碼</button>
      <button class="btn btn-download" id="downloadBtn">下載 .py</button>
    </div>

    <p class="note">
          回家啦～
    </p>
  </div>

  <script>
    const codeBlock = document.getElementById('codeBlock');
    const copyBtn = document.getElementById('copyBtn');
    const downloadBtn = document.getElementById('downloadBtn');

    copyBtn.addEventListener('click', async () => {
      try {
        const text = codeBlock.textContent;
        await navigator.clipboard.writeText(text);
        copyBtn.textContent = '已複製 ✓';
        setTimeout(()=> copyBtn.textContent = '複製程式碼', 1400);
      } catch (err) {
        alert('瀏覽器不支援自動複製，請手動選取並複製。');
      }
    });

    downloadBtn.addEventListener('click', () => {
      const text = codeBlock.textContent;
      const blob = new Blob([text], { type: 'text/x-python;charset=utf-8' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'grade_stats.py';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>
